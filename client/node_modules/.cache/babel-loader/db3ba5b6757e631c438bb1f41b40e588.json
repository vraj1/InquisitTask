{"ast":null,"code":"var _jsxFileName = \"/Users/vrajpatel/Desktop/InquistTask/client/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { login } from './APICalls';\nimport { Link } from 'react-router-dom';\nimport './Login.css';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      password: '',\n      errors: ''\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const newuser = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    login(newuser).then(res => {\n      console.log(res);\n\n      if (!res.token) {\n        console.log(res.data);\n        this.setState({\n          errors: 'Login Credentials inncorrect'\n        });\n        this.props.history.push('/login');\n        return '';\n      }\n\n      this.props.history.push('/profile');\n    }).catch(err => {\n      alert(err);\n      this.props.history.push('/login');\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"FormCenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"FormFields\",\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"FormField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"FormField__Label\",\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"User Name\"), React.createElement(\"input\", {\n      className: \"FormField__Input\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"example1\",\n      value: this.state.username,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"FormField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"FormField__Label\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      className: \"FormField__Input\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"FormField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"FormField__Button mr-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Login\"), React.createElement(Link, {\n      to: \"/register\",\n      className: \"FormField__Link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Create an account\"), this.state.errors ? React.createElement(\"div\", {\n      className: \"FormFieldError\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Username or Password inccorect\") : '')));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/vrajpatel/Desktop/InquistTask/client/src/components/Login.js"],"names":["React","Component","login","Link","Login","constructor","state","username","password","errors","onChange","bind","onSubmit","e","setState","target","name","value","preventDefault","newuser","then","res","console","log","token","data","props","history","push","catch","err","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {login} from './APICalls'\nimport { Link } from 'react-router-dom';\nimport './Login.css';\nclass Login extends Component {\n    constructor(){\n        super()\n        this.state = {\n            username:'',\n            password:'',\n            errors:''\n        }\n        this.onChange = this.onChange.bind(this)\n        this.onSubmit =this.onSubmit.bind(this)\n    }\n    onChange(e){\n        this.setState({[e.target.name]: e.target.value})\n    }\n    onSubmit(e){\n        e.preventDefault()\n\n        const newuser = {\n            username: this.state.username,\n            password: this.state.password\n        }\n        login(newuser).then(res => {\n            console.log(res);\n            if(!res.token){\n                console.log(res.data);\n                this.setState({\n                    errors: 'Login Credentials inncorrect'\n                })\n                this.props.history.push('/login')\n                return '';\n            }\n            \n            this.props.history.push('/profile');\n        }).catch(err => {\n            alert(err);\n            this.props.history.push('/login')\n        })\n    }\n    render() {\n        return (\n            <div className=\"FormCenter\">\n                \n                    <form className=\"FormFields\" noValidate onSubmit={this.onSubmit}>\n                        \n                        <div className=\"FormField\">\n                            <label className=\"FormField__Label\" htmlFor=\"username\">User Name</label>\n                            <input className=\"FormField__Input\" type=\"text\" name=\"username\" placeholder=\"example1\" value={this.state.username} onChange={this.onChange}/>\n                        </div>\n\n                        <div className=\"FormField\">\n                            <label className=\"FormField__Label\" htmlFor=\"password\">Password</label>\n                            <input className=\"FormField__Input\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.onChange}/>\n                        </div>\n\n                        <div className=\"FormField\"> \n                            <button type=\"submit\" className=\"FormField__Button mr-20\">Login</button><Link to=\"/register\" className=\"FormField__Link\">Create an account</Link>\n                            {this.state.errors ? <div className=\"FormFieldError\">Username or Password inccorect</div>: ''}\n                        </div>\n                       \n                    </form>\n                \n\n            </div>\n        )\n    }\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}